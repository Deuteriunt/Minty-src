VMProtect is a commercially available software packer used by Genshin Impact. You can read more about it at https://vmpsoft.com/.

The source code for VMProtect was leaked a while ago. If you want to study it, see https://github.com/classic130/VMProtect-Source (I have a copy of this saved on my storage device in case it gets DMCA removed).